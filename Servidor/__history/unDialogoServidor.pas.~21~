unit unDialogoServidor;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, ExtCtrls;

type
  TfmServer = class(TForm)
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    moUsuarios: TMemo;
    Label4: TLabel;
    Timer1: TTimer;
    procedure FormCreate(Sender: TObject);
    procedure Timer1Timer(Sender: TObject);
    procedure FormShow(Sender: TObject);
  private
    FContador: Integer;
  public
    procedure Inserir(AUsuario : String);
    procedure Remover(AUsuario : String);
  end;

var
  fmServer: TfmServer;

implementation

{$R *.dfm}

{ TfmServer }

procedure TfmServer.FormCreate(Sender: TObject);
begin
  FContador := 0;
  moUsuarios.Lines.Clear;
end;

procedure TfmServer.FormShow(Sender: TObject);
begin
  Application.Minimize;
end;

procedure TfmServer.Inserir(AUsuario: String);
begin
  fmServer.moUsuarios.Lines.Add(AUsuario);
  Inc(FContador);
end;

procedure TfmServer.Remover(AUsuario: String);
begin
  moUsuarios.Lines.Delete(moUsuarios.Lines.IndexOf(AUsuario));
  Dec(FContador);
end;

procedure TfmServer.Timer1Timer(Sender: TObject);
begin
  Label3.Caption := FormatFloat('00', FContador);
end;

end.


